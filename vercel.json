{
  "version": 2,
  "functions": {
    "api/products.js": {
      "maxDuration": 30
    },
    "api/products-delete.js": {
      "maxDuration": 30
    },
    "api/products-update.js": {
      "maxDuration": 30
    },
    "api/refresh.js": {
      "maxDuration": 30
    }
  },
  "rewrites": [
    { "source": "/api/proxy/api/v1/notifications/by-user/(.*)", "destination": "/api/notifications/by-user?user_id=$1" },
    { "source": "/api/proxy/api/v1/notifications/read-all/(.*)", "destination": "/api/notifications/read-all?user_id=$1" },
    
    { "source": "/api/proxy/api/v1/products", "destination": "/api/products" },
    { "source": "/api/proxy/api/v1/products/(.*)", "destination": "/api/products/$1" },
    { "source": "/api/proxy/api/v1/products-delete", "destination": "/api/products-delete" },
    { "source": "/api/proxy/api/v1/products-update", "destination": "/api/products-update" },
    { "source": "/api/proxy/api/v1/auth/refresh", "destination": "/api/refresh" },
    
    { "source": "/api/proxy/api/v1/conversations", "destination": "/api/conversations" },
    { "source": "/api/proxy/api/v1/conversations/(.*)", "destination": "/api/conversations/$1" },
    { "source": "/api/proxy/api/v1/conversations/(.*)/messages", "destination": "/api/conversations/$1/messages" },
    { "source": "/api/proxy/api/v1/conversations/(.*)/messages/(.*)", "destination": "/api/conversations/$1/messages/$2" },

    { "source": "/api/proxy/(.*)", "destination": "https://agrolinkbackend.onrender.com/$1" },
    { "source": "/assets/(.*)", "destination": "/assets/$1" },
    { "source": "/(.*\\.(?:js|css|png|jpg|svg|json|map|ico))", "destination": "/$1" },
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}